---
page_title: "Elastic Cloud: ec_stack Data Source"
description: |-
  Use this data source to retrieve information about an existing Elastic Cloud stack.

  -> **Note on regions** Before you start, you might want to check the [full list](https://www.elastic.co/guide/en/cloud/current/ec-regions-templates-instances.html) of regions available in Elasticsearch Service (ESS).
---

# Data Source: ec_stack

Use this data source to retrieve information about an existing Elastic Cloud stack.

  -> **Note on regions** Before you start, you might want to check the [full list](https://www.elastic.co/guide/en/cloud/current/ec-regions-templates-instances.html) of regions available in Elasticsearch Service (ESS).

## Example Usage

```terraform
data "ec_stack" "latest" {
  version_regex = "latest"
  region        = "us-east-1"
  lock          = true
}

data "ec_stack" "latest_patch" {
  version_regex = "7.9.?"
  region        = "us-east-1"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `region` (String) Region where the stack pack is. For Elastic Cloud Enterprise (ECE) installations, use `ece-region`.
- `version_regex` (String) Regex to filter the available stacks. Can be any valid regex expression, when multiple stacks are matched through a regex, the latest version is returned. `latest` is also accepted to obtain the latest available stack version.

### Optional

- `lock` (Boolean) Lock the `latest` `version_regex` obtained, so that the new stack release doesn't cascade the changes down to the deployments. It can be changed at any time.

### Read-Only

- `accessible` (Boolean) To have this version accessible/not accessible by the calling user. This is only relevant for Elasticsearch Service (ESS), not for ECE.
- `allowlisted` (Boolean) To include/not include this version in the `allowlist`. This is only relevant for Elasticsearch Service (ESS), not for ECE.
- `apm` (Attributes List) Information for APM workloads on this stack version. (see [below for nested schema](#nestedatt--apm))
- `elasticsearch` (Attributes List) Information for Elasticsearch workloads on this stack version. (see [below for nested schema](#nestedatt--elasticsearch))
- `enterprise_search` (Attributes List) Information for Enterprise Search workloads on this stack version. (see [below for nested schema](#nestedatt--enterprise_search))
- `id` (String) Unique identifier of this data source.
- `kibana` (Attributes List) Information for Kibana workloads on this stack version. (see [below for nested schema](#nestedatt--kibana))
- `min_upgradable_from` (String) The minimum stack version which can be upgraded to this stack version.
- `upgradable_to` (List of String) A list of stack versions which this stack version can be upgraded to.
- `version` (String) The stack version

<a id="nestedatt--apm"></a>
### Nested Schema for `apm`

Read-Only:

- `capacity_constraints_max` (Number) Maximum size of the instances.
- `capacity_constraints_min` (Number) Minimum size of the instances.
- `compatible_node_types` (List of String) List of node types compatible with this one.
- `denylist` (List of String) List of configuration options that cannot be overridden by user settings.
- `docker_image` (String) Docker image to use for the APM instance.


<a id="nestedatt--elasticsearch"></a>
### Nested Schema for `elasticsearch`

Read-Only:

- `capacity_constraints_max` (Number) Maximum size of the instances.
- `capacity_constraints_min` (Number) Minimum size of the instances.
- `compatible_node_types` (List of String) List of node types compatible with this one.
- `default_plugins` (List of String) List of default plugins.
- `denylist` (List of String) List of configuration options that cannot be overridden by user settings.
- `docker_image` (String) Docker image to use for the Elasticsearch cluster instances.
- `plugins` (List of String) List of available plugins to be specified by users in Elasticsearch cluster instances.


<a id="nestedatt--enterprise_search"></a>
### Nested Schema for `enterprise_search`

Read-Only:

- `capacity_constraints_max` (Number) Maximum size of the instances.
- `capacity_constraints_min` (Number) Minimum size of the instances.
- `compatible_node_types` (List of String) List of node types compatible with this one.
- `denylist` (List of String) List of configuration options that cannot be overridden by user settings.
- `docker_image` (String) Docker image to use for the Enterprise Search instance.


<a id="nestedatt--kibana"></a>
### Nested Schema for `kibana`

Read-Only:

- `capacity_constraints_max` (Number) Maximum size of the instances.
- `capacity_constraints_min` (Number) Minimum size of the instances.
- `compatible_node_types` (List of String) List of node types compatible with this one.
- `denylist` (List of String) List of configuration options that cannot be overridden by user settings.
- `docker_image` (String) Docker image to use for the Kibana instance.
