---
page_title: "Elastic Cloud: ec_snapshot_repository Resource"
description: |-
  Manages Elastic Cloud Enterprise snapshot repositories.

  ~> **This resource can only be used with Elastic Cloud Enterprise** For Elastic Cloud SaaS please use the [elasticstack_elasticsearch_snapshot_repository](https://registry.terraform.io/providers/elastic/elasticstack/latest/docs/resources/elasticsearch_snapshot_repository) resource from the [Elastic Stack terraform provider](https://registry.terraform.io/providers/elastic/elasticstack/latest).
---

# Resource: ec_snapshot_repository

Manages Elastic Cloud Enterprise snapshot repositories.

  ~> **This resource can only be used with Elastic Cloud Enterprise** For Elastic Cloud SaaS please use the [elasticstack_elasticsearch_snapshot_repository](https://registry.terraform.io/providers/elastic/elasticstack/latest/docs/resources/elasticsearch_snapshot_repository) resource from the [Elastic Stack terraform provider](https://registry.terraform.io/providers/elastic/elasticstack/latest).

## Example Usage

```terraform
resource "ec_snapshot_repository" "this" {
  name = "my-snapshot-repository"
  s3 = {
    bucket     = "my-bucket"
    access_key = "my-access-key"
    secret_key = "my-secret-key"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the snapshot repository configuration.

### Optional

- `generic` (Attributes) Generic repository settings. (see [below for nested schema](#nestedatt--generic))
- `s3` (Attributes) S3 repository settings. (see [below for nested schema](#nestedatt--s3))

### Read-Only

- `id` (String) Unique identifier of this resource.

<a id="nestedatt--generic"></a>
### Nested Schema for `generic`

Required:

- `settings` (String) An arbitrary JSON object containing the repository settings.
- `type` (String) Repository type


<a id="nestedatt--s3"></a>
### Nested Schema for `s3`

Required:

- `bucket` (String) Name of the S3 bucket to use for snapshots.

Optional:

- `access_key` (String) An S3 access key. If set, the secret_key setting must also be specified. If unset, the client will use the instance or container role instead.
- `endpoint` (String) The S3 service endpoint to connect to. This defaults to s3.amazonaws.com but the AWS documentation lists alternative S3 endpoints. If you are using an S3-compatible service then you should set this to the serviceâ€™s endpoint.
- `path_style_access` (Boolean) Whether to force the use of the path style access pattern. If true, the path style access pattern will be used. If false, the access pattern will be automatically determined by the AWS Java SDK (See AWS documentation for details). Defaults to false.
- `region` (String) Allows specifying the signing region to use. Specifying this setting manually should not be necessary for most use cases. Generally, the SDK will correctly guess the signing region to use. It should be considered an expert level setting to support S3-compatible APIs that require v4 signatures and use a region other than the default us-east-1. Defaults to empty string which means that the SDK will try to automatically determine the correct signing region.
- `secret_key` (String, Sensitive) An S3 secret key. If set, the access_key setting must also be specified.
- `server_side_encryption` (Boolean) When set to true files are encrypted on server side using AES256 algorithm. Defaults to false.

## Import

You can import snapshot repositories using the `name`, for example:

```shell
terraform import ec_snapshot_repository.this my-snapshot-repository
```
